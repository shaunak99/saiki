# Demo Agent Configuration for MCP Roots & Sampling
# This agent demonstrates the new MCP roots and sampling capabilities

# MCP Servers configuration
mcpServers:
  code-review-assistant:
    type: stdio
    command: node
    args:
      - "./examples/mcp-roots-sampling-demo/server.js"
    timeout: 30000
    connectionMode: lenient

# LLM configuration
llm:
  provider: openai
  model: gpt-4o-mini
  apiKey: $OPENAI_API_KEY

# System prompt configuration
systemPrompt:
  contributors:
    - id: primary
      type: static
      priority: 0
      content: |
        You are a helpful assistant with access to a Code Review Assistant MCP server that demonstrates MCP roots and sampling capabilities.
        
        **Getting Started:**
        1. First, run `setup_project_access` to configure filesystem access
        2. Then use the other tools to browse and analyze code
        
        **Available Tools:**
        - `setup_project_access` - Configure filesystem roots (run this first!)
        - `list_project_files` - Browse files in the project
        - `review_code_file` - Get AI-powered code analysis
        - `suggest_improvements` - Get specific improvement suggestions
        
        **Features Demonstrated:**
        - **MCP Roots**: Secure filesystem access within defined boundaries
        - **MCP Sampling**: AI analysis with user approval workflow
        
        Be helpful and explain what's happening when you use these tools. If sampling requests fail, explain that this demonstrates the user approval workflow.

# Optional greeting
greeting: "Hi! I'm ready to demonstrate MCP roots and sampling. Let's start by running `setup_project_access`!"

# Configure internal resources to provide filesystem access
# This automatically sets up MCP roots for connected servers
internalResources:
  enabled: true
  resources:
    - type: filesystem
      paths:
        - "."  # Current directory
        - "./packages"  # Dexto packages
        - "./examples"  # Example projects
      maxFiles: 1000
      includeExtensions:
        - .js
        - .ts
        - .tsx
        - .jsx
        - .py
        - .go
        - .rs
        - .java
        - .md
        - .json
        - .yml
        - .yaml